#include <iostream>
#include<Windows.h>
using namespace std;

struct students
{
    string surname;
    string name;
    string patronymic;
    int grade[4];
    float average;
};

int main()
{
    SetConsoleCP(1251);
    SetConsoleOutputCP(1251);
    int n;
    cout << "количество студентов\n";
    cin >> n;

    students* student = new students[n];

    for (int i = 0; i < n; i++)
    {
        cout << "введите фамилию " << i + 1 << "-ого студента\n";
        cin >> student[i].surname;
        cout << "введите имя " << i + 1 << "-ого студента\n";
        cin >> student[i].name;
        cout << "введите отчество " << i + 1 << "-ого студента\n";
        cin >> student[i].patronymic;
        cout << "введите 4 оценки " << i + 1 << "-ого студента\n";
        for (int j = 0; j < 4; j++)
        {
            cin >> student[i].grade[j];
        }
    }

    cout << "\nвсе студенты\n";
    for (int i = 0; i < n; i++)
    {
        cout << i + 1 << " ";
        cout << student[i].surname << " ";
        cout << student[i].name << " ";
        cout << student[i].patronymic<<" - оценки: ";
        for (int j = 0; j < 4; j++)
        {
            cout << student[i].grade[j] << " ";
        }
        cout << endl;
    }

    //средний балл каждого студента

    for (int i = 0; i < n; i++)
    {
        int SumOfGrades = 0;
        for (int j = 0; j < 4; j++)
        {
            SumOfGrades += student[i].grade[j];
        }
        student[i].average=(float)SumOfGrades/4;
        cout << "средний балл " << i + 1 << "-ого студента: " << student[i].average << endl;
    }

    cout << "студенты средний балл которых выше среднего балла по группе\n";

    float SumOfAverage=0;
    for (int i = 0; i < n; i++)
    {
        SumOfAverage += student[i].average;
    }

    float GroupAverage=SumOfAverage/n;

    int StudentsAverageHigher = 0;

    for (int i = 0; i < n; i++)
    {
        if (student[i].average > GroupAverage)
        {
            cout << StudentsAverageHigher + 1 << " " << student[i].surname << " " << student[i].average << endl;
            StudentsAverageHigher++;
        }
    }

    if (StudentsAverageHigher == 0)
        cout << "в группе нету студентов средний балл которых выше по группе\n";

    cout << "список задолжников в группе\n";

    int debtors = 0;
    for (int i = 0; i < n; i++)
    {
        bool flag = false;
        for (int j = 0; j < 4; j++)
        {
            if (student[i].grade[j] == 2&&flag==false)
            {
                cout << debtors + 1 << " " << student[i].surname << endl;
                flag = true;
                debtors++;
            }
        }
    }
    if (debtors == 0)
    {
        cout << "в группе нету задолжников\n";
    }

    cout << "список отличников\n";
    
    int HonorStudent = 0;
    for (int i = 0; i < n; i++)
    {
        int five = 0;
        for (int j = 0; j < 4; j++)
        {
            if (student[i].grade[j] == 5)
                five++;
        }
        if (five == 4)
        {
            cout << HonorStudent + 1 << " " << student[i].surname << endl;
            HonorStudent++;
        }
    }
    if (HonorStudent == 0)
    {
        cout << "в группе нету отличников\n";
    }
}
